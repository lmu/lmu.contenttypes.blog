<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="lmu.contenttypes.blog"
      metal:use-macro="context/main_template/macros/master"
      >
<body>

<tal:comment tal:condition="nothing">
    This is a sample view template. It will not be used for rendering the
    content unless activated by creation of a view class with a matching name.
</tal:comment>

<metal:main fill-slot="content">
  <metal:content define-macro="content" 
                 tal:define="toLocalizedTime nocall:context/@@plone/toLocalizedTime;
                             real_object python:context.aq_explicit;
                             isAnon context/@@plone_portal_state/anonymous;
                             normalizeString nocall: context/plone_utils/normalizeString;
                             site_properties context/portal_properties/site_properties;
                             use_view_action site_properties/typesUseViewActionInListings|python:();
                             show_about python:not isAnon or site_properties.allowAnonymousViewAbout;
                             navigation_root_url context/@@plone_portal_state/navigation_root_url;
                             pas_member context/@@pas_member;
                             item_creator context/Creator;
                             item_type context/portal_type;
                             item_modified context/ModificationDate;
                             item_url context/getURL|context/absolute_url;">
  <main id="content" class="blog">
    <div class="row">
      <article class="blog columns small-12 large-10 large-centered helper-margin-top-m">
        <div class="blog-preview-counter" >
          <a class="comment-sign"
             tal:attributes="href python:str(context.absolute_url())+'#commenting';
                             title string:'Jump to Comments';"
             i18n:translate="">
            <span tal:content="context/getDiscussionCount" >Anzahl</span>
          </a>
        </div>
        <hgroup>
          <h1 tal:content="context/title">Blog Entry Title</h1>
          <div class="tileDocumentByLine documentByLine helper-font-serif" 
               tal:condition="python: site_properties.allowAnonymousViewAbout or not isAnon"
               tal:define="author python:pas_member.info(item_creator);">
            <a href="#"
               tal:attributes="href string:${navigation_root_url}/author/${item_creator}"
               tal:content="author/name_or_id">
                  Bob Dobalina
            </a> 
            <date tal:content="python: toLocalizedTime(item_modified,long_format=1)">Date</date>
          </div>
        </hgroup>

        <tal:image_check tal:condition="context/image">
        <figure  class="blog-lead-image helper-margin-bottom-m helper-margin-top-m text-center centered"
                 tal:define="scales context/@@images;
                             scaled_fallback_image  python: scales.scale('image', scale='large');
                             style string:max-width: ${scaled_fallback_image/width}px;;"
                 tal:attributes="style style" >
          <picture>
            <source media="(min-width: 64em)" tal:define="scaled_image python: scales.scale('image', scale='xlarge');" tal:attributes="srcset scaled_image/url;"/>
            <source media="(min-width: 52em)" tal:define="scaled_image python: scales.scale('image', scale='large');" tal:attributes="srcset scaled_image/url;"/>
            <source media="(min-width: 42em)" tal:define="scaled_image python: scales.scale('image', scale='preview');" tal:attributes="srcset scaled_image/url;" />
            <source media="(min-width: 36em)" tal:define="scaled_image python: scales.scale('image', scale='mini');" tal:attributes="srcset scaled_image/url;" />
            <source media="(min-width: 24em)" tal:define="scaled_image python: scales.scale('image', scale='thumb');" tal:attributes="srcset scaled_image/url;" />
            <img tal:replace="structure python: scales.tag('image', scale='large', alt=context.image_caption, title=context.image_caption)" />
          </picture>
          <figcaption tal:content="context/image_caption" tal:condition="context/image_caption">Caption</figcaption>
        </figure>
        </tal:image_check>

        <div tal:replace="structure context/text/output">Content</div>

        <div class="document-actions">
          <a tal:attributes="href string:${context/absolute_url}/report_blog_entry" 
             tal:condition="python:False"
             class="button link-overlay small" 
             id="report-button"
             title="Report Blog Entry" 
             i18n:translate="" >Report Blog Entry</a> 
          <a tal:attributes="href string:${context/absolute_url}/edit" 
             tal:condition="view/canEdit"
             class="button link-overlay small"
             title="Edit Blog Entry" 
             i18n:translate="" >Edit Blog Entry</a> 
          <a tal:attributes="href string:${context/absolute_url}/delete_confirmation" 
             class="button link-overlay small"
             title="Delete Blog Entry" 
             i18n:translate="" >Delete Blog Entry</a> 
          <a tal:attributes="href string:${context/absolute_url}/report_blog_entry" 
             tal:condition="python:False"
             class="button link-overlay small"
             title="Set Private" 
             i18n:translate="" >Set Private</a> 
          <a tal:attributes="href string:${context/absolute_url}/report_blog_entry" 
             tal:condition="view/canRemove"
             class="button link-overlay small"
             title="Report Blog Entry" 
             i18n:translate="" >Sperren</a> 
        </div>

        <section>
          <div tal:replace="structure provider:plone.belowcontent" >Viewlets Below</div>
        </section>
      </article>

    </div>
  </main>
  </metal:content>
</metal:main>

</body>
</html>
