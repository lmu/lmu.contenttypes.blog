<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="lmu.blog" 
      tal:define="omit view/omit"
      tal:omit-tag="omit">

<head tal:condition="not:omit">
  <title tal:content="context/Title"></title>

  <link rel="stylesheet" type="text/css" href="++resource++collective.js.foundation/css/normalize.css" >
  <link rel="stylesheet" type="text/css" href="++resource++collective.js.foundation/css/foundation.min.css" >
  <link rel="stylesheet" type="text/css" href="++resource++plone.app.jquery.js" >

  <script type="text/javascript" src="++resource++collective.js.foundation/js/foundation.min.js" ></script>

  <style type="text/css">
  #blog-main,
  #blog-footer { 
    background-color: #d2d2d2;
  }

  .comment-sign {
    background-image: url('http://localhost:8080/Plone/folder_icon.png');
    background-repeat: no-repeat;
    background-position: center bottom;
    background-size: 16px 16px;
    background-color: #d9d9d9;
    padding-left: 5px;
    padding-right: 5px;
    padding-top: 2px;
    padding-bottom: 2px;
    margin-bottom: 3px;
    float: right;
    text-align: right;

  }

  #blog-main img {
    float: left;
    margin-right: 10px;
    margin-bottom: 10px;
  }

  #blog-main div.row {
    padding-top: 15px;
    padding-bottom: 10px;
    border-bottom-style: solid;
    border-bottom-color: #000;
    border-bottom-width: 1px;
  }

  #blog-main div.row:last-of-type {
    padding-top: 15px;
    padding-bottom: 10px;
    border-bottom: none;
  }

  #blog-footer {
    padding-top: 10px;
    padding-bottom: 10px; 

  }

  #blog-footer * {
    font-size: 12px;
  }

  #blog-footer a.button {
    display: block;
    width: 100%;
  }



  </style>

</head>

<body tal:omit-tag="omit">
<div id="blog-section"
     tal:define="toLocalizedTime nocall:context/@@plone/toLocalizedTime;
                 navigation_root_url nocall:context/@@plone/navigationRootUrl;"
     tal:omit-tag="omit">

<div class="blog-header" tal:condition="not:omit">
  <div class="row">
    <div class="columns small-12 large-12">
      <h1>
        <a tal:attributes="href context/absolute_url;">
        <span tal:replace="context/Title">Title</span>
        <small tal:content="context/subtitle">Subtitle</small>
        </a>
      </h1>
    </div>
  </div>
</div>
<div id="blog-main" >
  <tal:block tal:repeat="entry view/entries">
  <div class="row" tal:define="item entry/getObject" tal:on-error="entry">
    <div class="columns small-12 blog-entry" 
         tal:define="member python:view.get_memberdata(item);
                     text python:view.strip_text(item);
                    ">
      <a class="comment-sign" 
         btal:content="item/getDiscussionCount"
         tal:attributes="href python:str(item.absolute_url())+'#commenting';">Anzahl</a>
      <a tal:attributes="href item/absolute_url; 
                         title item/title;"
         tal:define="images item/@@images;"
         tal:condition="item/image"
         class="blog-lead-image" >
        <figure >
          <img tal:replace="structure python: images.tag('image', scale='mini', alt=item.image_caption, title=item.image_caption)" />
          <figcaption tal:content="item/image_caption" tal:condition="item/image_caption">Caption</figcaption>
        </figure>
      </a>
      <h2>
        <a tal:attributes="href item/absolute_url; 
                           title item/title;"
          tal:content="item/title">Blog Entry Title</a>
      </h2>
      <div tal:replace="structure provider:plone.belowcontenttitle" tal:condition="python:False">DocumentByLine</div>
      <p tal:content="item/description">Blog Entry Description</p>
      <p>
        <a tal:attributes="href item/absolute_url; 
                           title item/title;">
          <span tal:replace="text">Blog Entry Text</span>...
        </a>
      </p>
      <div class="documentByLine" tal:on-error="member" > 
        <a tal:content="member/fullname"
           tal:attributes="href string:${navigation_root_url}/author/${member/id};" >Author</a>, 
        <span tal:replace="python: toLocalizedTime(item.ModificationDate(),long_format=0)">Date</span>
      </div>
    </div>
  </div>
  </tal:block>
</div>

<div id="blog-footer" tal:condition="not:omit">
  <div class="row">
    <div class="columns small-12">
      <a class="button"
         tal:define="add_url string:${context/absolute_url}/++add++Blog Entry;"
         tal:attributes="href add_url;
                         class string:button;"
         i18n:translate="">
        Jetzt einen Blog-Beitrag verfassen
      </a>
    </div>
  </div>
</div>

</div>
</body>
</html>