<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="lmu.blog" 
      tal:define="omit view/omit"
      tal:omit-tag="omit">

<head tal:condition="not:omit">
  <title tal:content="context/Title"></title>

  <link rel="stylesheet" type="text/css" href="++resource++collective.js.foundation/css/normalize.css" >
  <link rel="stylesheet" type="text/css" href="++resource++collective.js.foundation/css/foundation.min.css" >
  <link rel="stylesheet" type="text/css" href="++resource++plone.app.jquery.js" >

  <script type="text/javascript" src="++resource++collective.js.foundation/js/foundation.min.js" ></script>

  <style type="text/css">
  #blog-main,
  #blog-footer { 
    background-color: #d2d2d2;
  }

  .comment-sign {
    background-image: url('http://localhost:8080/Plone/folder_icon.png');
    background-repeat: no-repeat;
    background-position: center bottom;
    background-size: 16px 16px;
    background-color: #d9d9d9;
    padding-left: 5px;
    padding-right: 5px;
    padding-top: 2px;
    padding-bottom: 2px;
    margin-bottom: 3px;
    float: right;
    text-align: right;

  }

  #blog-main img {
    float: left;
    margin-right: 10px;
    margin-bottom: 10px;
  }

  #blog-main div.row {
    padding-top: 15px;
    padding-bottom: 10px;
    border-bottom-style: solid;
    border-bottom-color: #000;
    border-bottom-width: 1px;
  }

  #blog-footer {
    padding-top: 10px;
    padding-bottom: 10px; 

  }

  #blog-footer * {
    font-size: 12px;
  }

  #blog-footer a.button {
    display: block;
    width: 100%;
  }



  </style>

</head>

<body tal:omit-tag="omit">
<div id="blog-section"
     tal:define="toLocalizedTime nocall:context/@@plone/toLocalizedTime"
     tal:omit-tag="omit">

<div class="blog-header" tal:condition="not:omit">
  <div class="row">
    <div class="columns small-12 large-12">
      <h1>
        <a tal:attributes="href context/absolute_url;">
        <span tal:replace="context/Title">Title</span>
        <small tal:content="context/subtitle">Subtitle</small>
        </a>
      </h1>
    </div>
  </div>
</div>

<div id="blog-main">
  <tal:block tal:repeat="entry view/entries">
  <div class="row">
    <div class="columns small-12 blog-entry" tal:define="item_image python:view.get_item_image(entry, 'thumb');">
      <a class="comment-sign" 
         tal:content="entry/getDiscussionCount"
         tal:attributes="href python:str(entry.absolute_url())+'#comment';">Anzahl</a>
      <a tal:attributes="href entry/absolute_url; 
                         title entry/title;"
         tal:condition="item_image"
         class="blog-lead-image" >
        <img tal:replace="structure item_image" />
      </a>
      <h2>
        <a tal:attributes="href entry/absolute_url; 
                           title entry/title;"
          tal:content="entry/title">Blog Entry Title</a>
      </h2>
      <div tal:replace="structure provider:plone.belowcontenttitle" >DocumentByLine</div>
      <p tal:content="entry/description">Blog Entry Description</p>
      <p class="documentByLine">
        <span tal:replace="entry/Creator">Author</span>, 
        <span tal:replace="python: toLocalizedTime(entry.CreationDate(),long_format=1)">Date</span>
      </p>
    </div>
  </div>
  </tal:block>
</div>

<div id="blog-footer" tal:condition="not:omit">
  <div class="row">
    <div class="columns small-12">
      <a class="button"
         tal:define="add_url string:${context/absolute_url}/++add++Blog Entry;"
         tal:attributes="href add_url;
                         class string:button;"
         i18n:translate="">
        Jetzt einen Blog-Beitrag verfassen
      </a>
    </div>
  </div>
</div>

</div>
</body>
</html>